{"collection":{"info":{"_postman_id":"a3044bbb-55fd-45cd-b96d-d66dd5b4263f","name":"Test Explore With Me - Feature comments","schema":"https://schema.getpostman.com/json/collection/v2.1.0/collection.json","updatedAt":"2023-05-05T22:26:07.000Z","uid":"26381671-a3044bbb-55fd-45cd-b96d-d66dd5b4263f"},"item":[{"name":"Добавление комментария","event":[{"listen":"test","script":{"id":"6ed2e2e2-8d8d-45aa-85f0-3c101c9bcbef","exec":["pm.test(\"Ответ должен содержать код статуса 201 и данные в формате json\", function () {\r","    pm.response.to.have.status(201);\r","    pm.response.to.be.withBody;\r","    pm.response.to.be.json;\r","});\r","\r","const source = JSON.parse(pm.request.body.raw);\r","const target = pm.response.json();\r","\r","pm.test(\"Пользователь должен содержать поля: id, name, email\", function () {\r","    pm.expect(target).to.have.property('id');\r","    pm.expect(target).to.have.property('user');\r","    pm.expect(target).to.have.property('event');\r","    pm.expect(target).to.have.property('content');\r","    pm.expect(target).to.have.property('publishedOn');\r","    pm.expect(target).to.have.property('edited');\r","    pm.expect(target).to.have.property('approved');\r","});\r","\r","pm.test(\"Данные в ответе должны соответствовать данным в запросе\", function () {\r","    pm.expect(target.id).to.not.be.null;\r","    pm.expect(source.content).equal(target.content, 'Содержание комментария должно соответствовать отправленному в запросе');\r","});"],"type":"text/javascript"}}],"id":"c128429a-e223-4937-8f7a-3aaa3af3fc6d","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[],"body":{"mode":"raw","raw":"{\r\n    \"content\": \"first comment\"\r\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"http://localhost:8080/users/:userId/comments/:eventId","protocol":"http","host":["localhost"],"port":"8080","path":["users",":userId","comments",":eventId"],"variable":[{"key":"userId","value":"4"},{"key":"eventId","value":"6"}]}},"response":[],"uid":"26381671-c128429a-e223-4937-8f7a-3aaa3af3fc6d"},{"name":"Добавление комментария","event":[{"listen":"test","script":{"id":"6ed2e2e2-8d8d-45aa-85f0-3c101c9bcbef","exec":["pm.test(\"Ответ должен содержать код статуса 201 и данные в формате json\", function () {\r","    pm.response.to.have.status(201);\r","    pm.response.to.be.withBody;\r","    pm.response.to.be.json;\r","});\r","\r","const source = JSON.parse(pm.request.body.raw);\r","const target = pm.response.json();\r","\r","pm.test(\"Пользователь должен содержать поля: id, name, email\", function () {\r","    pm.expect(target).to.have.property('id');\r","    pm.expect(target).to.have.property('user');\r","    pm.expect(target).to.have.property('event');\r","    pm.expect(target).to.have.property('content');\r","    pm.expect(target).to.have.property('publishedOn');\r","    pm.expect(target).to.have.property('edited');\r","    pm.expect(target).to.have.property('approved');\r","});\r","\r","pm.test(\"Данные в ответе должны соответствовать данным в запросе\", function () {\r","    pm.expect(target.id).to.not.be.null;\r","    pm.expect(source.content).equal(target.content, 'Содержание комментария должно соответствовать отправленному в запросе');\r","});"],"type":"text/javascript"}}],"id":"334a597b-2e13-4e2f-bc3f-f30d24131f56","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[],"body":{"mode":"raw","raw":"{\r\n    \"content\": \"second comment\"\r\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"http://localhost:8080/users/:userId/comments/:eventId","protocol":"http","host":["localhost"],"port":"8080","path":["users",":userId","comments",":eventId"],"variable":[{"key":"userId","value":"6"},{"key":"eventId","value":"6"}]}},"response":[],"uid":"26381671-334a597b-2e13-4e2f-bc3f-f30d24131f56"},{"name":"Изменение комментария","event":[{"listen":"test","script":{"id":"b26a783b-1934-4343-b95c-8365cd62adf9","exec":["pm.test(\"Ответ должен содержать код статуса 200 и данные в формате json\", function () {\r","    pm.response.to.have.status(200);\r","    pm.response.to.be.withBody;\r","    pm.response.to.be.json;\r","});\r","\r","const source = JSON.parse(pm.request.body.raw);\r","const target = pm.response.json();\r","\r","pm.test(\"Пользователь должен содержать поля: id, name, email\", function () {\r","    pm.expect(target).to.have.property('id');\r","    pm.expect(target).to.have.property('user');\r","    pm.expect(target).to.have.property('event');\r","    pm.expect(target).to.have.property('content');\r","    pm.expect(target).to.have.property('publishedOn');\r","    pm.expect(target).to.have.property('edited');\r","    pm.expect(target).to.have.property('approved');\r","});\r","\r","pm.test(\"Данные в ответе должны соответствовать данным в запросе\", function () {\r","    pm.expect(target.id).to.not.be.null;\r","    pm.expect(source.content).equal(target.content, 'Содержание комментария должно соответствовать отправленному в запросе');\r","});"],"type":"text/javascript"}}],"id":"37e5fe00-68f4-466c-99f3-354df386b514","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"PATCH","header":[],"body":{"mode":"raw","raw":"{\r\n    \"content\": \"edited comment\"\r\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"http://localhost:8080/users/:userId/comments/:eventId","protocol":"http","host":["localhost"],"port":"8080","path":["users",":userId","comments",":eventId"],"variable":[{"id":"2fede793-3235-48e6-ad07-f24ccb7b36ef","key":"userId","value":"4"},{"id":"1b093cbb-cf22-4e8d-bcef-eb7e71e931c8","key":"eventId","value":"6"}]}},"response":[],"uid":"26381671-37e5fe00-68f4-466c-99f3-354df386b514"},{"name":"Изменение несуществующего","event":[{"listen":"test","script":{"id":"3f44c8b6-3cbd-48a7-ad2a-b06f37ae2300","exec":["pm.test(\"Ответ должен содержать код статуса 404\", function () {\r","    pm.response.to.have.status(404);\r","});\r",""],"type":"text/javascript"}}],"id":"193d4921-c36b-4411-92c2-9a910a18fff6","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"PATCH","header":[],"body":{"mode":"raw","raw":"{\r\n    \"content\": \"first comment\"\r\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"http://localhost:8080/users/:userId/comments/:eventId","protocol":"http","host":["localhost"],"port":"8080","path":["users",":userId","comments",":eventId"],"variable":[{"key":"userId","value":"99"},{"key":"eventId","value":"6"}]}},"response":[],"uid":"26381671-193d4921-c36b-4411-92c2-9a910a18fff6"},{"name":"Добавление комментария владельцем события","event":[{"listen":"test","script":{"id":"14b3184c-8043-4fe4-a8f7-62a8025f2378","exec":["pm.test(\"Ответ должен содержать код статуса 409\", function () {\r","    pm.response.to.have.status(409);\r","});\r",""],"type":"text/javascript"}}],"id":"4bcfb068-5ce4-4de9-8103-c7e8ed041905","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[],"body":{"mode":"raw","raw":"{\r\n    \"content\": \"no comment\"\r\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"http://localhost:8080/users/:userId/comments/:eventId","protocol":"http","host":["localhost"],"port":"8080","path":["users",":userId","comments",":eventId"],"variable":[{"key":"userId","value":"3"},{"key":"eventId","value":"1"}]}},"response":[],"uid":"26381671-4bcfb068-5ce4-4de9-8103-c7e8ed041905"},{"name":"Получение всех комментариев","event":[{"listen":"test","script":{"id":"ae310e2d-ef32-48df-bae9-699ff828bfda","exec":["pm.test(\"Status code is 200\", function () {\r","    pm.response.to.have.status(200);\r","    pm.response.to.be.withBody;\r","    pm.response.to.be.json;\r","});\r",""],"type":"text/javascript"}}],"id":"64aeffb9-06fe-40e0-a8f8-a2f99567e0fd","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[],"url":{"raw":"http://localhost:8080/admin/comments","protocol":"http","host":["localhost"],"port":"8080","path":["admin","comments"]}},"response":[],"uid":"26381671-64aeffb9-06fe-40e0-a8f8-a2f99567e0fd"},{"name":"Модерация комментария","event":[{"listen":"test","script":{"id":"311af80a-9b6c-4588-a62b-d0f14e1d69e6","exec":["pm.test(\"Status code is 200\", function () {\r","    pm.response.to.have.status(200);\r","    pm.response.to.be.withBody;\r","    pm.response.to.be.json;\r","});\r","\r","const target = pm.response.json();\r","\r","pm.test(\"Пользователь должен содержать поля\", function () {\r","    pm.expect(target).to.have.property('id');\r","    pm.expect(target).to.have.property('user');\r","    pm.expect(target).to.have.property('event');\r","    pm.expect(target).to.have.property('content');\r","    pm.expect(target).to.have.property('publishedOn');\r","    pm.expect(target).to.have.property('edited');\r","    pm.expect(target).to.have.property('approved');\r","});\r","\r","pm.test(\"Данные в ответе должны соответствовать данным в запросе\", function () {\r","    pm.expect(target.id).to.not.be.null;\r","    pm.expect(target.approved).equal(true, 'Комментарий должен быть одобрен');\r","});\r",""],"type":"text/javascript"}}],"id":"03838898-df1d-4496-9e73-c003c8aac306","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"PATCH","header":[],"url":{"raw":"http://localhost:8080/admin/comments/:commentId","protocol":"http","host":["localhost"],"port":"8080","path":["admin","comments",":commentId"],"variable":[{"key":"commentId","value":"1"}]}},"response":[],"uid":"26381671-03838898-df1d-4496-9e73-c003c8aac306"},{"name":"Удаление комментария","event":[{"listen":"test","script":{"id":"dc8885ba-110c-4d46-a662-1b1d839703af","exec":["pm.test(\"Status code is 204\", function () {\r","    pm.response.to.have.status(204);\r","});"],"type":"text/javascript"}}],"id":"3b216f25-c38d-4ba2-84eb-c3831fd41a63","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"DELETE","header":[],"url":{"raw":"http://localhost:8080/users/:userId/comments/:eventId","protocol":"http","host":["localhost"],"port":"8080","path":["users",":userId","comments",":eventId"],"variable":[{"key":"userId","value":"4"},{"key":"eventId","value":"6"}]}},"response":[],"uid":"26381671-3b216f25-c38d-4ba2-84eb-c3831fd41a63"}]}}